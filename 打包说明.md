# 打包说明

## Windows 版本

### 1. 便携版（推荐 - 无需安装，文件更小）

```bash
npm run build-win-portable
```

**输出文件**：`dist/数学教学工具-1.0.0-便携版.exe`

**特点**：
- ✅ 无需安装，双击即可运行
- ✅ 文件更小（约 100-150MB）
- ✅ 可以放在U盘或任意位置运行
- ✅ 不会在系统注册表中留下痕迹

### 2. 安装版（传统方式）

```bash
npm run build-win
```

**输出文件**：`dist/数学教学工具-1.0.0-安装版.exe`

**特点**：
- 需要安装到系统
- 会在开始菜单和桌面创建快捷方式
- 文件稍大（约 120-180MB）

## 优化说明

已优化的配置：
- ✅ 使用 `asar` 打包（压缩所有文件）
- ✅ 使用 `maximum` 压缩级别
- ✅ 排除不必要的文件（node_modules、文档等）
- ✅ 便携版可以直接运行，无需安装

## Android APK 打包

⚠️ **重要说明**：Electron 本身不支持直接打包成 Android APK。

### 方案一：使用 PWA Builder（推荐）

1. 将 HTML 文件部署到服务器
2. 访问 https://www.pwabuilder.com/
3. 输入你的网站地址
4. 生成 Android APK

### 方案二：使用 Capacitor（需要重构）

需要将 Electron 应用转换为 Capacitor 应用：

```bash
npm install @capacitor/core @capacitor/cli
npm install @capacitor/android
npx cap init
npx cap add android
npx cap sync
npx cap open android
```

### 方案三：使用 Cordova（需要重构）

```bash
npm install -g cordova
cordova create myapp com.math.tools "数学教学工具"
# 复制 HTML 文件到 www 目录
cordova platform add android
cordova build android
```

### 方案四：使用 Tauri（需要 Rust）

Tauri 是一个更轻量的替代方案，支持 Android，但需要学习 Rust。

## 文件大小优化

当前优化：
- ✅ 使用 asar 打包（压缩）
- ✅ 排除开发文件
- ✅ 使用最大压缩

如果还需要更小：
- 可以考虑使用 Electron 的较旧版本（但可能缺少新特性）
- 或者使用 Tauri（文件更小，但需要重构）

## 快速命令

```bash
# 便携版（推荐）
npm run build-win-portable

# 安装版
npm run build-win

# 查看打包后的文件
ls -lh dist/
```

